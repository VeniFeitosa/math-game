<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> Adição </title>
<script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js" integrity="sha512-kp7YHLxuJDJcOzStgd6vtpxr4ZU9kjn77e6dBsivSz+pUuAuMlE2UTdKB7jjsWT84qbS8kdCWHPETnP/ctrFsA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
<style>
    #app{
        text-align: center;
        font-family: sans-serif;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 600px;
    }
    h1{
        font-size: 70px;
        margin-bottom: 25px;
    }
    h2{
        margin-top: 20px;
        font-size: 30px;
    }
    .incorreto{
        color: red;
    }
    input{
        font-family: sans-serif;
        font-size: 30px;
        outline: none;
    }
    .btn{
        width: 150px;
        font-size: 20px;
    }
    .jogar{
        width: 250px;
        font-size: 25px;
        font-weight: bold;
        text-align: center;
        border: 1px solid transparent;
        padding: 10px;
        border-radius: 10px;
    }

    @media only screen and (max-width: 600px){
        input{
            width: 70%;
        }
    }
</style>
</head>
<body class="bg-light">
    <div id="app" class="container"></div>



<script type="text/babel">

    function App() {
        
        const [jogo, setJogo] = React.useState({
        nmr1 : Math.ceil(Math.random() * 15),
        nmr2 : Math.ceil(Math.random() * 15),
        resposta: "",
        pontos: 0,
        incorreto: false
        });

        function mudarResposta(event){
                setJogo({
                    ...jogo,
                    resposta: event.target.value
                });
            }
        function enviar(event){
            if (event.key === "Enter"){
                var soma = jogo.nmr1 + jogo.nmr2
                if (soma === parseInt(jogo.resposta)){
                    //acertou
                    setJogo({
                        ...jogo,
                        resposta: "",
                        pontos: jogo.pontos + 1,
                        nmr1 : Math.ceil(Math.random() * 15),
                        nmr2 : Math.ceil(Math.random() * 15),
                        incorreto:false
                    });
                }else{
                    //errou
                    if (jogo.pontos === 0){
                        
                        setJogo({
                        ...jogo,
                        resposta: "",
                        incorreto: true
                        });

                    }else{
                        setJogo({
                        ...jogo,
                        resposta: "",
                        pontos: jogo.pontos - 1,
                        incorreto: true
                    });
                    }
                }
            }
        }
    
        function jogar(){
            setJogo({
                ...jogo,
                pontos: 0
            });
        }

        if (jogo.pontos === 10){
            return(
                <div>
                    <h1>Parabéns, você ganhou!</h1>
                    <button class="jogar btn-primary" onClick={jogar}>Jogar de novo</button>
                </div>
            )
        }

        return(
            <div class="row">
                <div class="col-md-12 col-sm-12">
                    <h1 className={jogo.incorreto ? "incorreto": ""}> {jogo.nmr1} + {jogo.nmr2}</h1>
                    <input autoFocus onKeyPress={enviar} onChange={mudarResposta} type="text" value= {jogo.resposta} />
                    <h2>Pontuação: {jogo.pontos}</h2>
                </div>
                <div class="col-md-12 col-sm-12">
                    <div class="row mt-3">
                        <div class="col-md-12 col-sm-12 mb-4">
                        <a class="btn btn-primary" href="multi.html"> Multiplicação </a>   
                        </div>
                        <div class="col-md-12 col-sm-12 mb-4">
                            <a class="btn btn-primary" href="divisao.html"> Divisão </a>  
                        </div>
                        <div class="col-md-12 col-sm-12">
                            <a class="btn btn-primary" href="subtracao.html"> Subtração </a>   
                        </div>
                    </div>   
                </div> 
            </div>
        );
    }
    

    ReactDOM.render(<App/>, document.querySelector("#app"));
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>   
</body>
</html>